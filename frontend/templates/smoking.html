{% extends "base.html" %}

{% block title %}Курение{% endblock %}

{% block body %}
<div class="smoking-container">
    <h2 class="smoking-title">Отслеживание курения</h2>
    <p class="smoking-text">Каждый день записывайте количество сигарет, чтобы отслеживать прогресс.</p>

    <!-- Сообщение об ошибке (если есть) -->
    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <!-- Форма для ввода данных -->
    <form id="smoking-form" class="smoking-form" method="post">
        <div class="input-group">
            <label for="puffs" class="form-label">Количество сигарет:</label>
            <input type="number" id="puffs" name="puffs" class="form-control" min="0" required>
        </div>
        <button type="submit" class="btn btn-primary">Сохранить</button>
    </form>

    <!-- Прогресс -->
    <div class="progress-container">
        <div class="progress-label">Прогресс: <span id="progressText">0%</span></div>
        <div class="progress">
            <div id="progressFill" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
    </div>

    <!-- График -->

<h3 class="mt-4">Ваша статистика</h3>
<table class="table table-bordered mt-2">
    <thead>
        <tr>
            <th>Показатель</th>
            <th>Значение</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Сигарет сегодня</td>
            <td>{{ smoked_today }}</td>
        </tr>
        <tr>
            <td>Сигарет за месяц</td>
            <td>{{ monthly_cigarettes }}</td>
        </tr>
    </tbody>
</table>
{% endblock %}